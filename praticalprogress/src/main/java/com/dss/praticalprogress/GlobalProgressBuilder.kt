package com.dss.praticalprogressimport android.app.Activityimport android.view.LayoutInflaterimport android.view.Viewimport android.view.ViewGroupimport android.view.WindowManagerclass GlobalProgressBuilder {    companion object{        const val NO_CUSTOM_LAYOUT = 0    }    private var progress: View? = null    private lateinit var targetView: View    private var progressLayout: Int = NO_CUSTOM_LAYOUT    private lateinit var activity: Activity    fun with(activity: Activity): GlobalProgressBuilder {        this.activity = activity        targetView = activity.findViewById<View>(android.R.id.content).rootView        return this    }    fun customLayout(layoutId: Int): GlobalProgressBuilder {        progressLayout = layoutId        return this    }    fun run(): GlobalProgressBuilder {        progressLayout = if (progressLayout == NO_CUSTOM_LAYOUT) R.layout.dialog_progress_global else progressLayout        createGlobalProgress()        return this    }    fun stop(): GlobalProgressBuilder {        DialogUtils.checkRemoveProgress(targetView,activity)        return this    }    private fun createGlobalProgress() {        val inflater = LayoutInflater.from(activity)        val progress: View =            inflater.inflate(R.layout.dialog_progress_global, targetView as ViewGroup, true)        this.progress = progress        activity.window.setFlags(            WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE,            WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE        )    }}